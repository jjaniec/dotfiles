#### Setup

unset DOTFILES_DIR;

DOTFILES_DIR="";

# Load default locations if not set
if [ -z "$DOTFILES_DIR" ];
then
	stat /dotfiles > /dev/null 2>&1;
	if [ $? -ne 0 ];
	then
		export DOTFILES_DIR=~/dotfiles;
	else
		export DOTFILES_DIR=/dotfiles;
	fi;
fi;

#### Antigen plugins ####

if [ -n "$DOTFILES_DIR" ];
then
	source $DOTFILES_DIR/zsh/antigen.zsh

	antigen bundle zdharma/fast-syntax-highlighting
	antigen bundle supercrabtree/k
	antigen bundle eendroroy/zed-zsh
	antigen bundle zsh-users/zsh-autosuggestions

	antigen bundle mafredri/zsh-async
	antigen bundle sindresorhus/pure

	#antigen bundle sobolevn/wakatime-zsh-plugin

	antigen apply
fi;

#### Git config ####

git config --global user.email "jjaniec@student.42.fr"
git config --global user.name "Joffrey Janiec"

if [ "$(uname -s)" = "Linux" ];
then
	git config --global credential.helper cache;
else
	git config --global credential.helper osxkeychain;
fi;

#### Aliases and exports ####

#export WAKATIME_HOME=$DOTFILES_DIR/zsh/.wakatime.cfg

#alias ls='k'

alias glog="git log --graph --abbrev-commit --decorate --format=format:'%C(bold blue)%h%C(reset) - %C(bold green)(%ar)%C(reset) %C(white)%s%C(reset) %C(dim white)- %an%C(reset)%C(auto)%d%C(reset)'"
alias psc="ps xawf -eo pid,user,cgroup,args"


#### Scripts ####

# Source 42 specific dotfiles
if [ $(hostname | grep -E 'e[1-9]{1,2}r[1-9]{1,2}p[1-9]{1,2}.42.fr') ];
then
	source ~/42_dotfiles/.zshrc
fi;
